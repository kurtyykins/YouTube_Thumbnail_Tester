<!DOCTYPE html>
<html lang="en">

<head>
    <title>YouTube Thumbnail Tester</title>
    <link rel="stylesheet" href="./youtubestyles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>

<style>
    .xScrollContainer {
        width: 100%;
        height: 100%;
        white-space: nowrap;
        position: relative;
        overflow-x: scroll;
        overflow-y: hidden;
        -webkit-overflow-scrolling: touch;
    }

    .yScrollContainer {
        width: 100%;
        height: 520px;
        overflow-x: hidden;
        overflow-y: scroll;
        -webkit-overflow-scrolling: touch;
    }

    .form-control,
    .input-group-text,
    .btn {
        font-size: 2rem;
    }
</style>

<body>

    <div class="min-height-full" id="min-height-full" data-theme="light">
        <div class="container mt-3">

            <div class="row mt-3 text-center">

                <div class="col-12 mt-3">
                    <h1>YouTube Thumbnail Tester</h1>
                </div>

                <form>
                    <div class="col-12">

                        <div class="row mt-3">
                            <div class="col-12">
                                <input type="file" class="form-control" id="thumbnailInput" accept="image/*"
                                    onchange="handleInfoChange(event)" multiple>
                            </div>
                        </div>

                        <div class="row mt-3">
                            <div class="col-6">
                                <div class="input-group">
                                    <span class="input-group-text">Channel Name</span>
                                    <input type="text" class="form-control" id="channelNameInput"
                                        placeholder="Channel Name" onchange="handleInfoChange(event)"
                                        value="Channel Name">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="input-group">
                                    <span class="input-group-text">Video Title</span>
                                    <input type="text" class="form-control" id="videoTitleInput"
                                        placeholder="Video Title" onchange="handleInfoChange(event)"
                                        value="An Incredibly Good YouTube Video">
                                </div>
                            </div>
                        </div>

                        <div class="row mt-3 mb-3">
                            <div class="col-12">
                                <button type="button" id="refreshInfo" class="btn btn-primary btn-lg mx-1"
                                    onclick="handleInfoChange()">Refresh</button>
                                <button type="button" id="darkModeToggle" class="btn btn-dark btn-lg mx-1"
                                    onclick="toggleDarkMode()">Toggle Light/Dark Mode</button>
                                <button type="button" class="btn btn-danger btn-lg mx-1"
                                    onclick="resetPage()">Reset</button>
                            </div>
                        </div>

                    </div>
                </form>

            </div>

            <div id="thumbnailPreviewContainer" style="display: none;"></div>

        </div>
    </div>
</body>

<script>

    let currentThemeSetting = "light";
    let numberOfThumbnails = 0;
    let channelLogoSrc = "url('Logo_Circle.png')";
    let channelNameInput, videoTitleInput;


    function toggleDarkMode() {

        const newTheme = currentThemeSetting === "dark" ? "light" : "dark";
        const darkModeButton = document.getElementById('darkModeToggle')

        if (newTheme === "dark") {
            darkModeButton.classList.add('btn-light');
            darkModeButton.classList.remove('btn-dark');
        } else {
            darkModeButton.classList.add('btn-dark');
            darkModeButton.classList.remove('btn-light');
        }

        document.body.setAttribute("data-theme", newTheme);
        currentThemeSetting = newTheme;

    }

    function resetPage() {

        location.reload();

    }

    function handleInfoChange(event) {

        const previewContainer = document.getElementById('thumbnailPreviewContainer');
        let files = document.getElementById('thumbnailInput').files;
        numberOfThumbnails = files.length;
        channelNameInput = document.getElementById('channelNameInput').value;
        videoTitleInput = document.getElementById('videoTitleInput').value;
        

        if (numberOfThumbnails > 0) {
            previewContainer.style.display = "block";
            previewContainer.innerHTML = generateThumbnailPreviews(files);
        } else {
            previewContainer.style.display = "none";
        }

    }

    function generateThumbnailPreviews(files) {

        let thumbnailHTML = '';

        thumbnailHTML += `<hr><div class="row">`;
        thumbnailHTML += generateThumbnailsHomePageLarge(files);
        thumbnailHTML += `</div><hr><div class="row">`;
        thumbnailHTML += generateThumbnailsHomePageSmall(files);
        thumbnailHTML += `</div><hr><div class="row">`
        thumbnailHTML += generateThumbnailsHomePageSidebar(files);
        thumbnailHTML += generateThumbnailsMobileColumn(files);
        thumbnailHTML += generateThumbnailsMobileFullWidth(files);
        thumbnailHTML += `</div><hr>`;

        return thumbnailHTML;
    }

    function generateThumbnailsHomePageLarge(files) {

        let sectionHeader = 'Web Home Page Large';
        let outputHTML = `
            <div class="col-12">
                <div class="thumbnailComponent">
                    <div class="componenTitle">${sectionHeader}</div>
                    <div class="xScrollContainer"> 
        `;

        for (let i = 0; i < numberOfThumbnails; i++) {

            let fileURL = URL.createObjectURL(files[i]);
            let viewStatsInput = (Math.floor(Math.random() * 16) + 1) + 'K views • ' + (Math.floor(Math.random() * 24) + 2) + ' hours ago';
            let videoDurationInput = (Math.floor(Math.random() * 29) + 10) + ':' + (Math.floor(Math.random() * 29) + 10);

            outputHTML += `
                        <div class="thumbnailGroup groupBelow px-1">
                            <div class="thumbnailImageContainer">
                                <img class="thumbnailImage" width="360" height="202" alt="thumbnail" src="${fileURL}">
                                <div class="clearfix"></div>
                                <div class="time-overlay">${videoDurationInput}</div>
                            </div>
                            <div class="avatar" style="background-image: ${channelLogoSrc};"></div>
                            <div class="thumbnailTitle">
                                <div class="title" style="width: 360px; line-height: 2.2rem; max-width: 265px; min-width: 265px; font-size: 16px; font-weight: 500; max-height: 4.4rem;">${videoTitleInput}</div>
                                <div class="videoDetails">
                                    <div class="channelName">${channelNameInput}</div>
                                    <div class="videoStats">${viewStatsInput}</div>
                                </div>
                            </div>
                        </div>
            `;
        }

        outputHTML += `
                    </div>        
                </div>
            </div>
        `;

        return outputHTML;

    }

    function generateThumbnailsHomePageSmall(files) {

        let sectionHeader = 'Web Home Page Small';
        let outputHTML = `
            <div class="col-12">
                <div class="thumbnailComponent">
                    <div class="componenTitle">${sectionHeader}</div> 
                    <div class="xScrollContainer"> 
        `;

        for (let i = 0; i < numberOfThumbnails; i++) {

            let fileURL = URL.createObjectURL(files[i]);
            let viewStatsInput = (Math.floor(Math.random() * 16) + 1) + 'K views • ' + (Math.floor(Math.random() * 24) + 2) + ' hours ago';
            let videoDurationInput = (Math.floor(Math.random() * 29) + 10) + ':' + (Math.floor(Math.random() * 29) + 10);

            outputHTML += `
                        <div class="thumbnailGroup groupBelow">
                            <div class="thumbnailImageContainer">
                                <img class="thumbnailImage" width="240" height="135" alt="thumbnail" src="${fileURL}">
                                <div class="clearfix"></div>
                                <div class="time-overlay">${videoDurationInput}</div>
                            </div>
                            <div class="avatar" style="background-image: ${channelLogoSrc};"></div>
                            <div class="thumbnailTitle">
                                <div class="title" style="width: 240px; max-width: 168px; min-width: 168px; font-weight: 500; max-height: 4rem;">${videoTitleInput}</div>
                                <div class="videoDetails">
                                    <div class="channelName">${channelNameInput}</div>
                                    <div class="videoStats">${viewStatsInput}</div>
                                </div>
                            </div>
                        </div>
            `;
        }

        outputHTML += `
                    </div>
                </div>
            </div>
        `;

        return outputHTML;

    }

    function generateThumbnailsHomePageSidebar(files) {

        let sectionHeader = 'Web Sidebar';
        let outputHTML = `
            <div class="col-4 sidebar">
                <div class="thumbnailComponent">
                    <div class="componenTitle">${sectionHeader}</div>
                    <div class="yScrollContainer">
        `;

        for (let i = 0; i < numberOfThumbnails; i++) {

            let fileURL = URL.createObjectURL(files[i]);
            let viewStatsInput = (Math.floor(Math.random() * 16) + 1) + 'K views • ' + (Math.floor(Math.random() * 24) + 2) + ' hours ago';
            let videoDurationInput = (Math.floor(Math.random() * 29) + 10) + ':' + (Math.floor(Math.random() * 29) + 10);

            outputHTML += `
                        <div class="thumbnailGroup groupBeside">
                            <div class="thumbnailImageContainer">
                                <img class="thumbnailImage" width="168" height="94" alt="thumbnail" src="${fileURL}">
                                <div class="clearfix"></div>
                                <div class="time-overlay">${videoDurationInput}</div>
                            </div>
                            <div class="avatar" style="display: none;"></div>
                            <div class="thumbnailTitle">
                                <div class="title" style="max-width: 202px; min-width: 202px; font-weight: 500; max-height: 4rem;">${videoTitleInput}</div>
                                <div class="videoDetails">
                                    <div class="channelName">${channelNameInput}</div>
                                    <div class="videoStats">${viewStatsInput}</div>
                                </div>
                            </div>
                        </div>
            `;
        }

        outputHTML += `
                    </div>    
                </div>
            </div>
        `;

        return outputHTML;

    }

    function generateThumbnailsMobileFullWidth(files) {

        let sectionHeader = 'Mobile Full Width';
        let outputHTML = `
        <div class="col-4 mobile-home">
            <div class="thumbnailComponent">
                <div class="componenTitle">${sectionHeader}</div>
                <div class="yScrollContainer">
        `;

        for (let i = 0; i < numberOfThumbnails; i++) {

            let fileURL = URL.createObjectURL(files[i]);
            let viewStatsInput = (Math.floor(Math.random() * 16) + 1) + 'K views • ' + (Math.floor(Math.random() * 24) + 2) + ' hours ago';
            let videoDurationInput = (Math.floor(Math.random() * 29) + 10) + ':' + (Math.floor(Math.random() * 29) + 10);

            outputHTML += `
                    <div class="thumbnailGroup groupBelow">
                        <div class="thumbnailImageContainer">
                            <img class="thumbnailImage" width="375" height="211" alt="thumbnail" src="${fileURL}">
                            <div class="clearfix"></div>
                            <div class="time-overlay">${videoDurationInput}</div>
                        </div>
                        <div class="avatar" style="background-image: ${channelLogoSrc};">
                        </div>
                        <div class="thumbnailTitle">
                            <div class="title" style="width: 375px; max-width: 280px; min-width: 280px; font-size: 14px; max-height: 4rem;">${videoTitleInput}</div>
                            <div class="videoDetails combined" style="font-size: 12px;">
                                <div class="videoStats">${channelNameInput} • ${viewStatsInput}</div>
                            </div>
                        </div>
                    </div>
            `;
        }

        outputHTML += `
                </div>
            </div>
        </div>
        `;

        return outputHTML;

    }

    function generateThumbnailsMobileColumn(files) {

        let sectionHeader = 'Mobile Column';
        let outputHTML = `
        <div class="col-4 mobile-column">
            <div class="thumbnailComponent">
                <div class="componenTitle">${sectionHeader}</div>
                <div class="yScrollContainer">
        `;

        for (let i = 0; i < numberOfThumbnails; i++) {

            let fileURL = URL.createObjectURL(files[i]);
            let viewStatsInput = (Math.floor(Math.random() * 16) + 1) + 'K views • ' + (Math.floor(Math.random() * 24) + 2) + ' hours ago';
            let videoDurationInput = (Math.floor(Math.random() * 29) + 10) + ':' + (Math.floor(Math.random() * 29) + 10);

            outputHTML += `
                
                    <div class="thumbnailGroup groupBeside">
                        <div class="thumbnailImageContainer">
                            <img class="thumbnailImage" width="160" height="90" alt="thumbnail" src="${fileURL}">
                            <div class="clearfix"></div>
                            <div class="time-overlay">${videoDurationInput}</div>
                        </div>
                        <div class="avatar" style="display: none;"></div>
                        <div class="thumbnailTitle">
                            <div class="title" style="max-width: 150px; min-width: 150px; max-height: 4rem;">${videoTitleInput}</div>
                            <div class="videoDetails" style="font-size: 12px;">
                                <div class="channelName">${channelNameInput}</div>
                                <div class="videoStats">${viewStatsInput}</div>
                            </div>
                        </div>
                    </div>
            `;
        }

        outputHTML += `
                </div>
            </div>
        </div>
        `;

        return outputHTML;

    }


</script>

</html>
